<mat-accordion *ngIf="allTopicPostsDisplay.length > 0">
  <mat-expansion-panel *ngFor="let allTopicPostDisplay of allTopicPostsDisplay">

    <!-- HEADER: titre, username, date -->
    <mat-expansion-panel-header>
      <mat-panel-title>
        {{allTopicPostDisplay.title}}
      </mat-panel-title>
      <mat-panel-description >
        <div>{{allTopicPostDisplay.username}}</div>
        <div>{{allTopicPostDisplay.date_post}}</div>
      </mat-panel-description>
    </mat-expansion-panel-header>

    <!-- Description, fichiers, commentaires-->
    <div class="cDescrip"> {{allTopicPostDisplay.description}} </div>

    <div class="cFile">
      <mat-tab-group [animationDuration]="650" class="my-custom-tabs">
        <mat-tab *ngFor="let file of allTopicPostDisplay.files" >
          <ng-template mat-tab-label>
            <div>{{file.file_title}}.{{file.file_type}}</div>
          </ng-template>
          <div> <pre class="fileDate"> {{file.file_date}} </pre> </div>
          <div>
            <pre class="fileContent"> {{file.file_content}} </pre>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>

    <div>
      <div class="cComment" >
        <div class="comments" *ngFor="let comment of allTopicPostDisplay.comments">
          <app-commentaires [commentaireRecu]=comment></app-commentaires>
        </div>
      </div>
    </div>


    <!-- Bouton: ajouter un commentaire-->
    <mat-action-row>
      <button mat-button color="primary" (click)="comment()">Laisser un commentaire</button>
    </mat-action-row>

  </mat-expansion-panel>
</mat-accordion>
