<mat-accordion *ngIf="allTopicPostsDisplay.length > 0">
  <mat-expansion-panel *ngFor="let allTopicPostDisplay of allTopicPostsDisplay">

    <!-- HEADER: titre, username, date -->
    <mat-expansion-panel-header>
      <mat-panel-title>
        {{allTopicPostDisplay.titre}}
      </mat-panel-title>
      <mat-panel-description >
        <div>{{allTopicPostDisplay.username}}</div>
        <div>{{allTopicPostDisplay.date}}</div>
      </mat-panel-description>
    </mat-expansion-panel-header>

    <!-- Description, fichiers, commentaires-->
    <div class="cDescrip"> {{allTopicPostDisplay.description}} </div>

    <div class="cFile">
      <mat-tab-group animationDuration="700ms" class="my-custom-tabs">
        <mat-tab *ngFor="let file of allTopicPostDisplay.files" >
          <ng-template mat-tab-label>
            <div class="fileTitle">{{file.titre}}.{{file.type}}</div>
          </ng-template>
          <div>
            <pre class="fileContent"> {{file.content}} </pre>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>

    <div class="cComment" >
      <div class="comments" *ngFor="let comment of allTopicPostDisplay.comments">
        <div class="infoComment">
          <div> {{comment.username}} </div>
          <div class="dateComment"> {{comment.date}} </div>
        </div>
        <div class="contentComment">
          {{comment.content}}
        </div>
      </div>
    </div>

    <!-- Bouton: ajouter un commentaire-->
    <mat-action-row>
      <button mat-button color="primary" (click)="comment()">Laisser un commentaire</button>
    </mat-action-row>

  </mat-expansion-panel>
</mat-accordion>
